# docker build -t build2022/app:latest -f python/dockerfile .
# docker run -d -p 9000:9000 build2022/app:latest
# docker-compose up
# docker-compose down
# docker-compose down --rmi all -v # to remove all volumes and images

FROM python

COPY db ./db

WORKDIR /code

COPY python/requirements.txt /code/requirements.txt

RUN pip3 install --no-cache-dir --upgrade -r /code/requirements.txt

COPY python/main.py /code/main.py
COPY python/db.py /code/db.py
COPY python/images /code/images
COPY python/image /code/image

CMD ["uvicorn", "main:app", "--host", "0.0.0.0", "--port", "9000", "--reload"]